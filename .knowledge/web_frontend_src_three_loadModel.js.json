{"is_source_file": true, "format": "JavaScript", "description": "This source file provides functions to load a 3D model of Airpods Max headphones using Three.js. It manages model URL resolution, DRACO decoder setup, mesh optimization support, and fallback geometry creation in case of load failure.", "external_files": ["three", "three/examples/jsm/loaders/GLTFLoader.js", "three/examples/jsm/loaders/DRACOLoader.js", "three/examples/jsm/libs/meshopt_decoder.module.js", "./constants"], "external_methods": ["THREE.SRGBColorSpace", "THREE.SRGBEncoding"], "published": ["resolveModelUrl", "resolveDracoPath", "loadAirpodsModel", "createFallbackMesh"], "classes": [{"name": "THREE.Group", "description": "A container object for grouping multiple 3D objects"}, {"name": "THREE.Mesh", "description": "A 3D object representing a mesh with geometry and material"}, {"name": "THREE.TorusKnotGeometry", "description": "Geometry for a torus knot shape used as fallback"}, {"name": "THREE.MeshStandardMaterial", "description": "Material for the fallback mesh with metalness and roughness parameters"}], "methods": [{"name": "resolveModelUrl(url)", "description": "Determines the effective model URL to load, using provided URL, environment variable, or default", "scope": "", "scopeKind": ""}, {"name": "resolveDracoPath(dracoPath)", "description": "Determines the path for DRACO decoder files, normalizing to ensure trailing slash", "scope": "", "scopeKind": ""}, {"name": "loadAirpodsModel(url, { dracoPath } = {})", "description": "Asynchronously loads the Airpods Max model with DRACO and Meshopt support, with fallback on failure", "scope": "", "scopeKind": ""}, {"name": "createFallbackMesh()", "description": "Creates a simple fallback mesh (torus knot) to use when model loading fails", "scope": "", "scopeKind": ""}], "calls": ["resolveModelUrl", "resolveDracoPath", "loader.setDRACOLoader", "loader.setMeshoptDecoder", "loader.loadAsync", "gltf.scene.traverse", "createFallbackMesh"], "search-terms": ["loadModel", "AirpodsMax", "Three.js model loader", "DRACO support", "meshopt", "fallback geometry", "model URL resolution"], "state": 2, "file_id": 16, "knowledge_revision": 43, "git_revision": "5c914ebb9b28bd06f4f866d67f99f76400aa7d81", "revision_history": [{"37": ""}, {"43": "5c914ebb9b28bd06f4f866d67f99f76400aa7d81"}], "ctags": [{"_type": "tag", "name": "DEFAULT_DRACO_PATH", "path": "/home/kavia/workspace/code-generation/airpods-max-showcase-176212-176221/web_frontend/src/three/loadModel.js", "pattern": "/^const DEFAULT_DRACO_PATH = '\\/draco\\/';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DEFAULT_MODEL_URL", "path": "/home/kavia/workspace/code-generation/airpods-max-showcase-176212-176221/web_frontend/src/three/loadModel.js", "pattern": "/^const DEFAULT_MODEL_URL = '\\/models\\/airpods-max\\/airpods-max.glb';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ENV_DRACO_PATH", "path": "/home/kavia/workspace/code-generation/airpods-max-showcase-176212-176221/web_frontend/src/three/loadModel.js", "pattern": "/^const ENV_DRACO_PATH = process?.env?.REACT_APP_DRACO_PATH;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ENV_MODEL_BASE", "path": "/home/kavia/workspace/code-generation/airpods-max-showcase-176212-176221/web_frontend/src/three/loadModel.js", "pattern": "/^const ENV_MODEL_BASE = process?.env?.REACT_APP_MODEL_BASE_URL;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "RESOLVED_DRACO_PATH", "path": "/home/kavia/workspace/code-generation/airpods-max-showcase-176212-176221/web_frontend/src/three/loadModel.js", "pattern": "/^const RESOLVED_DRACO_PATH = (ENV_DRACO_PATH || DEFAULT_DRACO_PATH);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "RESOLVED_MODEL_URL", "path": "/home/kavia/workspace/code-generation/airpods-max-showcase-176212-176221/web_frontend/src/three/loadModel.js", "pattern": "/^const RESOLVED_MODEL_URL = ENV_MODEL_BASE || DEFAULT_MODEL_URL;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createFallbackMesh", "path": "/home/kavia/workspace/code-generation/airpods-max-showcase-176212-176221/web_frontend/src/three/loadModel.js", "pattern": "/^export function createFallbackMesh() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "loadAirpodsModel", "path": "/home/kavia/workspace/code-generation/airpods-max-showcase-176212-176221/web_frontend/src/three/loadModel.js", "pattern": "/^export async function loadAirpodsModel(url, { dracoPath } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, { dracoPath } = {})"}, {"_type": "tag", "name": "resolveDracoPath", "path": "/home/kavia/workspace/code-generation/airpods-max-showcase-176212-176221/web_frontend/src/three/loadModel.js", "pattern": "/^export function resolveDracoPath(dracoPath) {$/", "language": "JavaScript", "kind": "function", "signature": "(dracoPath)"}, {"_type": "tag", "name": "resolveModelUrl", "path": "/home/kavia/workspace/code-generation/airpods-max-showcase-176212-176221/web_frontend/src/three/loadModel.js", "pattern": "/^export function resolveModelUrl(url) {$/", "language": "JavaScript", "kind": "function", "signature": "(url)"}], "hash": "ea46ae5deacfa69d06f1fabe8ce66a70", "format-version": 4, "code-base-name": "web_frontend", "filename": "web_frontend/src/three/loadModel.js"}